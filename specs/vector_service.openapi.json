{
    "openapi": "3.0.0",
    "info": {
        "title": "Pinecone JSON API",
        "version": "version not set",
        "contact": {
            "name": "Pinecone.io Ops",
            "url": "https://pinecone.io",
            "email": "support@pinecone.io"
        }
    },
    "tags": [
        {
            "name": "VectorService"
        }
    ],
    "paths": {
        "/query": {
            "post": {
                "summary": "The `Query` operation queries the index for the nearest stored vectors for one\nor more query vectors, and returns their ids and/or values.",
                "operationId": "VectorService_Query",
                "responses": {
                    "200": {
                        "description": "A successful response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/QueryResponse"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An unexpected error response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/rpcStatus"
                                }
                            }
                        }
                    }
                },
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/QueryRequest"
                            }
                        }
                    },
                    "required": true
                },
                "tags": [
                    "VectorService"
                ]
            }
        },
        "/summarize": {
            "get": {
                "summary": "The `Summarize` operation returns summary statistics about the index contents.",
                "operationId": "VectorService_Summarize",
                "responses": {
                    "200": {
                        "description": "A successful response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SummarizeResponse"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An unexpected error response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/rpcStatus"
                                }
                            }
                        }
                    }
                },
                "tags": [
                    "VectorService"
                ]
            }
        },
        "/vectors/delete": {
            "delete": {
                "summary": "The `Delete` operation deletes one or more vectors by id from a single namespace.",
                "operationId": "VectorService_Delete",
                "responses": {
                    "200": {
                        "description": "A successful response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DeleteResponse"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An unexpected error response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/rpcStatus"
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "ids",
                        "description": "Vectors to delete.",
                        "in": "query",
                        "required": false,
                        "explode": true,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    {
                        "name": "deleteAll",
                        "description": "This indicates that all vectors in the index namespace should be deleted.",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "namespace",
                        "description": "The namespace to delete vectors from, if applicable.",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "\"\""
                        }
                    }
                ],
                "tags": [
                    "VectorService"
                ]
            }
        },
        "/vectors/fetch": {
            "get": {
                "summary": "The `FetchVectors` operation returns vectors by id. The returned vectors include vector data and/or metadata.",
                "operationId": "VectorService_Fetch",
                "responses": {
                    "200": {
                        "description": "A successful response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FetchResponse"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An unexpected error response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/rpcStatus"
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "name": "ids",
                        "description": "The vector ids to fetch.",
                        "in": "query",
                        "required": true,
                        "explode": true,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    {
                        "name": "namespace",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "\"\""
                        }
                    }
                ],
                "tags": [
                    "VectorService"
                ]
            }
        },
        "/vectors/upsert": {
            "post": {
                "summary": "Use the `Upsert` operation to upload data (vector ids, values, and metadata) for indexing.\nIf a new value is upserted for an existing vector id, it will overwrite the previous value.",
                "operationId": "VectorService_Upsert",
                "responses": {
                    "200": {
                        "description": "A successful response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UpsertResponse"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An unexpected error response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/rpcStatus"
                                }
                            }
                        }
                    }
                },
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpsertRequest"
                            }
                        }
                    },
                    "required": true
                },
                "tags": [
                    "VectorService"
                ]
            }
        }
    },
    "security": [
        {
            "ApiKeyAuth": []
        }
    ],
    "externalDocs": {
        "description": "More Pinecone.io API docs",
        "url": "https://www.pinecone.io/docs"
    },
    "servers": [
        {
            "url": "https://{service_prefix}.svc.{environment}.pinecone.io",
            "variables": {
                "service_prefix": {
                    "default": "unknown"
                },
                "environment": {
                    "default": "unknown"
                }
            }
        }
    ],
    "components": {
        "securitySchemes": {
            "ApiKeyAuth": {
                "type": "apiKey",
                "description": "An API Key is required to call Pinecone APIs. Get yours at https://www.pinecone.io/start/",
                "name": "Api-Key",
                "in": "header"
            }
        },
        "schemas": {
            "DeleteResponse": {
                "type": "object",
                "description": "The response for the `Delete` operation."
            },
            "FetchResponse": {
                "type": "object",
                "properties": {
                    "vectors": {
                        "type": "object",
                        "example": {
                            "id-0": {
                                "id": "id-0",
                                "values": [
                                    17.222,
                                    7.234,
                                    8.73
                                ],
                                "metadata": "{mykey:myvalue}"
                            },
                            "id-1": {
                                "id": "id-1",
                                "values": [
                                    15.222,
                                    2.234,
                                    4.73
                                ],
                                "metadata": "{mykey:myvalue}"
                            }
                        },
                        "additionalProperties": {
                            "$ref": "#/components/schemas/Vector"
                        },
                        "title": "The fetched vectors, in the form of a map between the fetched ids and the fetched vectors"
                    },
                    "namespace": {
                        "type": "string",
                        "description": "The namespace of the vectors."
                    }
                },
                "description": "The response for the `Fetch` operation."
            },
            "NamespaceSummary": {
                "type": "object",
                "properties": {
                    "vectorCount": {
                        "type": "integer",
                        "format": "int64",
                        "description": "The number of vectors stored in this namespace. Note that updates to this field may lag behind updates to the\nunderlying index and corresponding query results, etc."
                    }
                },
                "description": "A summary of the contents of a namespace."
            },
            "QueryRequest": {
                "type": "object",
                "properties": {
                    "namespace": {
                        "type": "string",
                        "example": "namespace_a",
                        "default": "\"\"",
                        "description": "The namespace to query."
                    },
                    "topK": {
                        "type": "integer",
                        "format": "int64",
                        "example": {
                            "top_k": 102
                        },
                        "description": "The number of results to return for each query.",
                        "maximum": 10000,
                        "minimum": 1,
                        "required": [
                            "top_k"
                        ]
                    },
                    "filter": {
                        "type": "object",
                        "example": "filter_a",
                        "title": "The filter to apply if no filter is specified in `QueryVector`"
                    },
                    "includeData": {
                        "type": "boolean",
                        "example": {
                            "include_data": true
                        },
                        "default": "false",
                        "description": "Indicates whether vectors are included in the response as well as the ids."
                    },
                    "includeMetadata": {
                        "type": "boolean",
                        "example": {
                            "include_data": true
                        },
                        "default": "false",
                        "description": "Indicates whether metadata is included in the response as well as the ids."
                    },
                    "queries": {
                        "type": "array",
                        "example": {
                            "queries": [
                                {
                                    "vector": {
                                        "values": [
                                            1.524,
                                            2.23432,
                                            3.664
                                        ]
                                    },
                                    "top_k": 106,
                                    "namespace": "namespace_a",
                                    "filter": "filter_to_use"
                                },
                                {
                                    "vector": {
                                        "values": [
                                            2.4,
                                            3.22,
                                            7.664
                                        ]
                                    },
                                    "top_k": 90,
                                    "namespace": "namespace_a",
                                    "filter": "another_filter_to_use"
                                }
                            ]
                        },
                        "items": {
                            "$ref": "#/components/schemas/QueryVector"
                        },
                        "description": "The query vectors.",
                        "maxLength": 1000,
                        "minLength": 1,
                        "required": [
                            "queries"
                        ]
                    }
                },
                "description": "The request for the `Query` operation.",
                "required": [
                    "topK",
                    "queries"
                ]
            },
            "QueryResponse": {
                "type": "object",
                "properties": {
                    "results": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/SingleQueryResults"
                        },
                        "description": "The results of each query. The order is the same as `QueryRequest.queries`."
                    }
                },
                "description": "The response for the `Query` operation. These are the matches found for a particular query vector. The matches are ordered from most similar to least similar."
            },
            "QueryVector": {
                "type": "object",
                "properties": {
                    "values": {
                        "type": "array",
                        "example": [
                            1.524,
                            2.23432,
                            3.664
                        ],
                        "items": {
                            "type": "number",
                            "format": "float"
                        },
                        "description": "The query vector values. This should be the same length as the dimension of the index being queried.",
                        "maxLength": 100000,
                        "minLength": 1,
                        "required": [
                            "values"
                        ]
                    },
                    "topK": {
                        "type": "integer",
                        "format": "int64",
                        "example": {
                            "top_k": 106
                        },
                        "description": "An override for the number of results to return for this query vector.",
                        "maximum": 10000,
                        "minimum": 1
                    },
                    "namespace": {
                        "type": "string",
                        "example": "namespace_a",
                        "description": "An override the namespace to search."
                    },
                    "filter": {
                        "type": "object",
                        "example": "filter_to_use",
                        "description": "An override for the metadata filter to apply. This replaces the request-level filter."
                    }
                },
                "description": "A single query vector within a `QueryRequest`.",
                "required": [
                    "values"
                ]
            },
            "ScoredVector": {
                "type": "object",
                "example": {
                    "id": "id-0",
                    "score": 5.4,
                    "values": [
                        1.22,
                        2.234,
                        3.73
                    ],
                    "metadata": "{mykey : myvalue}"
                },
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "score": {
                        "type": "number",
                        "format": "float"
                    },
                    "values": {
                        "type": "array",
                        "items": {
                            "type": "number",
                            "format": "float"
                        }
                    },
                    "metadata": {
                        "type": "object"
                    }
                }
            },
            "SingleQueryResults": {
                "type": "object",
                "properties": {
                    "matches": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ScoredVector"
                        }
                    },
                    "namespace": {
                        "type": "string",
                        "example": "namespace_a"
                    }
                },
                "title": "The query results for a single `QueryVector`"
            },
            "SummarizeResponse": {
                "type": "object",
                "properties": {
                    "namespaces": {
                        "type": "object",
                        "example": {
                            "ns1": {
                                "vector_count": 15000
                            },
                            "ns2": {
                                "vector_count": 25000
                            }
                        },
                        "additionalProperties": {
                            "$ref": "#/components/schemas/NamespaceSummary"
                        },
                        "description": "A mapping for each namespace in the index from namespace name to a summary of its contents."
                    },
                    "dimension": {
                        "type": "integer",
                        "format": "int64",
                        "example": {
                            "dimension": 2
                        },
                        "description": "The dimension of the indexed vectors."
                    }
                },
                "description": "The response for the `Summarize` operation."
            },
            "UpsertRequest": {
                "type": "object",
                "properties": {
                    "vectors": {
                        "type": "array",
                        "example": [
                            {
                                "id": "id-0",
                                "values": [
                                    1.22,
                                    2.234,
                                    3.73
                                ],
                                "metadata": "{mykey : myvalue}"
                            }
                        ],
                        "items": {
                            "$ref": "#/components/schemas/Vector"
                        },
                        "description": "This is the actual array data.",
                        "maxLength": 10000,
                        "minLength": 1,
                        "required": [
                            "vectors"
                        ]
                    },
                    "namespace": {
                        "type": "string",
                        "example": "namespace_a",
                        "default": "\"\"",
                        "description": "This is the namespace name where you upsert vectors."
                    }
                },
                "description": "The request for the `Upsert` operation.",
                "required": [
                    "vectors"
                ]
            },
            "UpsertResponse": {
                "type": "object",
                "description": "The response for the `Upsert` operation."
            },
            "Vector": {
                "type": "object",
                "example": {
                    "id": "id-0",
                    "values": [
                        1.22,
                        2.234,
                        3.73
                    ],
                    "metadata": "{mykey : myvalue}"
                },
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "values": {
                        "type": "array",
                        "items": {
                            "type": "number",
                            "format": "float"
                        }
                    },
                    "metadata": {
                        "type": "object"
                    }
                }
            },
            "protobufAny": {
                "type": "object",
                "properties": {
                    "typeUrl": {
                        "type": "string"
                    },
                    "value": {
                        "type": "string",
                        "format": "byte"
                    }
                }
            },
            "protobufNullValue": {
                "type": "string",
                "enum": [
                    "NULL_VALUE"
                ],
                "default": "NULL_VALUE",
                "description": "`NullValue` is a singleton enumeration to represent the null value for the\n`Value` type union.\n\n The JSON representation for `NullValue` is JSON `null`.\n\n - NULL_VALUE: Null value."
            },
            "rpcStatus": {
                "type": "object",
                "properties": {
                    "code": {
                        "type": "integer",
                        "format": "int32"
                    },
                    "message": {
                        "type": "string"
                    },
                    "details": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/protobufAny"
                        }
                    }
                }
            }
        }
    }
}